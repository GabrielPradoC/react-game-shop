{"version":3,"sources":["components/Backdrop/Backdrop.js","components/Modal/Modal.js","components/CartProduct/CartProduct.js","components/CartPrice/CartPrice.js","components/CloseButton/CloseButton.js","components/CartMenu/CartMenu.js","components/Cart/Cart.js","components/Navbar/Navbar.js","components/Sorter/Sorter.js","components/Product/Product.js","components/ProductList/ProductList.js","components/AddToCartMenu/AddToCartMenu.js","components/StoreBody/StoreBody.js","App.js","index.js"],"names":["Backdrop","props","className","onClick","toggleModal","Modal","children","CartProduct","removeFromCart","itemIndex","src","product","image","alt","name","type","min","value","quantity","onChange","event","changeQuantity","target","CartPrice","subTotal","items","reduce","total","item","price","cartItemCount","calculateShipping","toFixed","shippingCost","calculateTotal","CloseButton","additionalClasses","clickHandler","data-testid","CartMenu","index","newCart","products","map","i","setCart","cartIsEmpty","length","cartCopy","splice","id","Cart","useState","modal","setModal","oldValue","Navbar","Sorter","setSortOption","sortOption","Product","modalToggle","process","ProductList","AddToCartMenu","clickedItem","addToCart","StoreBody","setClickedItem","sort","sortPrice","item1","item2","score","localeCompare","cart","find","findIndex","newItem","oldCart","targetItem","require","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.392dedba.chunk.js","sourcesContent":["import './Backdrop.css';\n\nfunction Backdrop(props) {\n\n    function removeBackdrop() {\n        props.toggleModal();\n    }\n\n    return (\n        <div\n            className='backdrop-body'\n            onClick={removeBackdrop}>\n        </div>\n    );\n}\n\nexport default Backdrop;\n","import Backdrop from '../Backdrop/Backdrop';\n\nfunction Modal(props) {\n    return (\n        <div>\n            {props.children}\n            <Backdrop toggleModal={props.toggleModal} />\n        </div>\n    );\n}\n\nexport default Modal;\n","import './CartProduct.css';\n\nfunction CartProduct(props){\n\n    function inputChangeHandler(event){\n        props.changeQuantity(event.target.value, props.itemIndex);\n    }\n\n    function removeBtnClickHandler(){\n        props.removeFromCart(props.itemIndex);\n    }\n\n    return (\n        <div className='cart-product-body'>\n            <div className='cart-product-remove-btn' onClick={removeBtnClickHandler}>\n                    <span>-</span>\n            </div>\n            <div className='cart-product-image'>\n                <img className='cart-product-img' \n                src={process.env.PUBLIC_URL+'/assets/'+props.product.image} \n                alt={props.product.name} />\n            </div>\n            <div className='cart-product-title'>\n                <span>{props.product.name}</span>\n            </div>\n            <div className='cart-product-quantity'>\n                <span>X</span>\n                <input type='number' min='1' \n                value={props.product.quantity} \n                onChange={inputChangeHandler}/>\n            </div>\n        </div>\n    )\n}\n\n\nexport default CartProduct;","function CartPrice(props){\n\n    const subTotal = props.items.reduce((total, item)=>{\n        return total += (item.price * item.quantity)\n    }, 0);\n\n    const cartItemCount = props.items.reduce((total, item)=>{\n        return total += +item.quantity\n    }, 0);\n\n    function calculateShipping(){\n        if(subTotal >= 250.00){\n            return 0.00;\n        }else{\n            const shippingCost = cartItemCount * 10.00;\n            return shippingCost;\n        }\n    }\n\n    function calculateTotal(){\n        const shippingCost = calculateShipping();\n        return (subTotal + shippingCost).toFixed(2);\n    }\n\n    return (\n        <div>\n            <span>Subtotal: R${subTotal.toFixed(2)}</span>\n            <br />\n            <span>Frete: R${calculateShipping()}</span>\n            <br />\n            <span>Total: R${calculateTotal()}</span>\n        </div>\n    )\n}\n\nexport default CartPrice;","import './CloseButton.css';\n\nfunction CloseButton(props){\n\n    function clickHandler(){\n        props.clickHandler();\n    }\n\n    const additionalClasses = props.className ? props.className : '';\n\n    return (\n        <input className={'close-button '+additionalClasses} \n        type='button' \n        value='X' \n        onClick={clickHandler}\n        data-testid='close-btn'/>\n    )\n}\n\nexport default CloseButton;","import './CartMenu.css'\nimport CartProduct from '../CartProduct/CartProduct';\nimport CartPrice from '../CartPrice/CartPrice';\nimport CloseButton from '../CloseButton/CloseButton';\n\nfunction CartMenu(props){\n\n    function changeQuantity(value, index){\n        const newCart = props.products.map((product, i)=>{\n            return i === index ? {...product, quantity: +value}: product;\n        });\n        props.setCart([...newCart]);\n    }\n\n    const cartIsEmpty = props.products.length !== 0 ? false : true;\n\n    function toggleModal(){\n        props.toggleModal()\n    }\n\n    function removeFromCart(itemIndex){\n        const cartCopy = [...props.products];\n        cartCopy.splice(itemIndex, 1);\n        props.setCart([...cartCopy]);\n    }\n\n    function createCartProducts(){\n        return props.products.map((product, index)=>{\n            return <CartProduct \n                key={product.id}\n                product={product}\n                itemIndex={index}\n                changeQuantity={changeQuantity}\n                removeFromCart={removeFromCart}\n            />\n        })\n    }\n\n    return (\n        <div className='cart-modal-body'>\n            <div className='cart-modal-items'>\n                {createCartProducts()}\n                {cartIsEmpty && <h1>Carrinho vazio.</h1>}\n            </div>\n            <div className='cart-modal-info'>\n                <div className='cart-modal-pricing'>\n                    <CartPrice items={props.products}/>\n                </div>                           \n                <div className='cart-modal-checkout'>\n                    <input \n                    type='button' \n                    value='Comprar'\n                    className='cart-modal-checkout-btn'\n                    />\n                </div>\n            </div>\n            <div className='cart-modal-close'>\n                <CloseButton clickHandler={toggleModal} />\n            </div>\n        </div>\n    )\n}\n\nexport default CartMenu;","import './Cart.css';\nimport Modal from '../Modal/Modal';\nimport CartMenu from '../CartMenu/CartMenu';\nimport { useState } from 'react';\n\nfunction Cart(props){\n\n    const [modal, setModal] = useState(false);\n\n    function toggleModal(){\n        setModal((oldValue)=> !oldValue);\n    }\n\n    return (\n        <div className='cart-body' >\n            <img src={process.env.PUBLIC_URL+'/assets/cart-icon.svg'}\n            alt='cart' onClick={toggleModal}\n            />\n            { modal && (\n                <Modal toggleModal={toggleModal}>\n                    <CartMenu \n                    products={props.products} \n                    setCart={props.setCart}\n                    toggleModal={toggleModal}\n                    />\n                </Modal>\n            )}\n        </div>\n    )\n}\n\nexport default Cart;","import './Navbar.css';\nimport Cart from '../Cart/Cart';\n\nfunction Navbar(props) {\n    return (\n        <div className='navbar-body'>\n            <Cart products={props.products} setCart={props.setCart}/>\n        </div>\n    );\n}\n\nexport default Navbar;\n","import './Sorter.css';\n\nfunction Sorter(props) {\n    function selectChangeHandler(event) {\n        props.setSortOption(event.target.value);\n    }\n\n    return (\n        <div className='sorter-body'>\n                <label className='sorter-label'>Ordenar por:</label>\n                <select\n                    onChange={selectChangeHandler}\n                    value={props.sortOption}>\n                    <option value='price'>preço</option>\n                    <option value='score'>popularidade</option>\n                    <option value='title'>ordem alfabética</option>\n                </select>\n        </div>\n    );\n}\n\nexport default Sorter;\n","import './Product.css'\n\nfunction Product(props){\n\n    function showModal(){\n        props.modalToggle(props.item);\n    }\n\n    return (\n        <div className='product-body' onClick={showModal}>\n            <div className='product-image'> \n                <img src={`${process.env.PUBLIC_URL}/assets/${props.item.image}`} \n                alt={props.item.name} />\n            </div>\n            <div className='product-info'>\n                <span className='product-title'>{props.item.name}</span>\n                <br/>\n                <span className='product-price'>R${props.item.price}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Product;","import './ProductList.css'\nimport Product from '../Product/Product';\n\nfunction ProductList(props) {\n    \n    function createProducts(){\n        return props.products.map(item => {\n            return <Product \n                    item={item} \n                    key={item.id} \n                    modalToggle={props.modalToggle} \n                />;\n        })\n    }\n\n    return (\n        <div className='product-list'>\n                {createProducts()}\n        </div>\n    );\n}\n\nexport default ProductList;\n","import './AddToCartMenu.css';\nimport CloseButton from '../CloseButton/CloseButton';\n\nfunction AddToCartMenu(props){\n\n    function addToCart(){\n        props.toggleModal();\n        props.addToCart(props.clickedItem)\n    }\n\n    return (\n        <div className='buy-item-body'>\n                <div className='buy-item-image'>\n                    <img src={`${process.env.PUBLIC_URL}/assets/${props.clickedItem.image}`} \n                    alt={props.clickedItem.name} \n                    />\n                    <span>{props.clickedItem.name}</span>\n                </div>\n                <div className='buy-item-info'>\n                    <div className='buy-item-price'>\n                        <span>Preço: R${props.clickedItem.price}</span>\n                        <br/>\n                        <input type='button'\n                            value='Comprar' \n                            onClick={addToCart}\n                        />\n                    </div>\n                </div>\n                <div className='buy-item-close-div'>\n                    <CloseButton clickHandler={props.toggleModal} />\n                </div>\n        </div>\n    )\n}\n\nexport default AddToCartMenu;","import './StoreBody.css';\nimport { useState } from 'react';\nimport Sorter from '../Sorter/Sorter';\nimport ProductList from '../ProductList/ProductList';\nimport Modal from '../Modal/Modal';\nimport AddToCartMenu from '../AddToCartMenu/AddToCartMenu';\n\nfunction StoreBody(props) {\n\n    const [clickedItem, setClickedItem] = useState({});\n    const [sortOption, setSortOption] = useState('price');\n    const [modal, setModal] = useState(false);\n\n    const products = [...props.products];\n    switch (sortOption) {\n        case 'price':\n            products.sort(sortPrice);\n            break;\n        case 'score':\n            products.sort(sortScore);\n            break;\n        case 'title':\n            products.sort(sortTitle);\n            break;\n        default:\n            products.sort(sortPrice);\n            break;\n    }\n\n    function toggleModalClickedItem(targetItem){\n        toggleModal();\n        setClickedItem(targetItem);\n      }\n    \n\n    function toggleModal() {\n        setModal(oldValue => !oldValue);\n    }\n\n    function sortScore(item1, item2) {\n        return item1.score - item2.score;\n    }\n\n    function sortTitle(item1, item2) {\n        return item1.name.localeCompare(item2.name);\n    }\n\n    function sortPrice(item1, item2) {\n        return item2.price - item1.price;\n    }\n\n    function addToCart(item){\n        if(props.cart.find(product => product.id === item.id)){\n          const index = props.cart.findIndex(product => product.id === item.id);\n          const cartCopy = [...props.cart];\n          cartCopy[index].quantity++;\n          props.setCart([...cartCopy])\n        }else{\n          const newItem = {...item, quantity: 1}\n          props.setCart((oldCart)=> [...oldCart, newItem]);\n        }    \n      }\n\n    return (\n        <div className='store-body'>\n            <Sorter setSortOption={setSortOption} sortOption={sortOption} />\n            {modal && (\n                <Modal toggleModal={toggleModal}>\n                    <AddToCartMenu\n                        toggleModal={toggleModal}\n                        clickedItem={clickedItem}\n                        addToCart={addToCart}\n                    />\n                </Modal>\n            )}\n            <ProductList products={products} \n            modalToggle={toggleModalClickedItem} />\n        </div>\n    );\n}\n\nexport default StoreBody;\n","import './App.css';\nimport { useState } from 'react';\nimport Navbar from './components/Navbar/Navbar';\nimport StoreBody from './components/StoreBody/StoreBody';\nconst products = require('./products.json');\n\nfunction App() {\n\n  const [cart, setCart] = useState([]);\n\n  return (\n    <div className=\"App\">\n      <Navbar products={cart} setCart={setCart}/>\n      <StoreBody products={products} \n      cart={cart}\n      setCart={setCart}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}